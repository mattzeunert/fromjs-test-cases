{"version":3,"sources":["todoModel.js"],"names":[],"mappings":";;;;;;AAIA,IAAI,GAAG,GAAG,GAAG,IAAI,EAAE,CAAC;;AAEpB,CAAC,YAAY;AACZ,aAAY,CAAC;;AAEb,KAAI,KAAK,GAAG,GAAG,CAAC,KAAK;;;;;;AAAC,AAMtB,IAAG,CAAC,SAAS,GAAG,UAAU,GAAG,EAAE;AAC9B,MAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,MAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC9B,MAAI,CAAC,SAAS,GAAG,EAAE,CAAC;EACpB,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE;AACvD,MAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EAC9B,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;AAC5C,OAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AAClC,MAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;AAAE,KAAE,EAAE,CAAC;GAAE,CAAC,CAAC;EAChD,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;AAClD,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;AAC9B,KAAE,EAAE,KAAK,CAAC,IAAI,EAAE;AAChB,QAAK,EAAE,KAAK;AACZ,YAAS,EAAE,KAAK;GAChB,CAAC,CAAC;;AAEH,MAAI,CAAC,MAAM,EAAE,CAAC;EACd,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,OAAO,EAAE;;;;;AAKtD,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;AAC3C,UAAO,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,EAAC,SAAS,EAAE,OAAO,EAAC,CAAC,CAAC;GACpD,CAAC,CAAC;;AAEH,MAAI,CAAC,MAAM,EAAE,CAAC;EACd,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,YAAY,EAAE;AACxD,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;AAC3C,UAAO,IAAI,KAAK,YAAY,GAC3B,IAAI,GACJ,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,EAAC,SAAS,EAAE,CAAC,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC;GACtD,CAAC,CAAC;;AAEH,MAAI,CAAC,MAAM,EAAE,CAAC;EACd,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;AACjD,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,SAAS,EAAE;AACnD,UAAO,SAAS,KAAK,IAAI,CAAC;GAC1B,CAAC,CAAC;;AAEH,MAAI,CAAC,MAAM,EAAE,CAAC;EACd,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE,IAAI,EAAE;AAC1D,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;AAC3C,UAAO,IAAI,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC;GAC1E,CAAC,CAAC;;AAEH,MAAI,CAAC,MAAM,EAAE,CAAC;EACd,CAAC;;AAEF,IAAG,CAAC,SAAS,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;AACpD,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE;AAC9C,UAAO,CAAC,IAAI,CAAC,SAAS,CAAC;GACvB,CAAC,CAAC;;AAEH,MAAI,CAAC,MAAM,EAAE,CAAC;EACd,CAAC;CAEF,CAAA,EAAG,CAAC","file":"todoModel.js","sourcesContent":["/*jshint quotmark:false */\n/*jshint white:false */\n/*jshint trailing:false */\n/*jshint newcap:false */\nvar app = app || {};\n\n(function () {\n\t'use strict';\n\n\tvar Utils = app.Utils;\n\t// Generic \"model\" object. You can use whatever\n\t// framework you want. For this application it\n\t// may not even be worth separating this logic\n\t// out, but we do this to demonstrate one way to\n\t// separate out parts of your application.\n\tapp.TodoModel = function (key) {\n\t\tthis.key = key;\n\t\tthis.todos = Utils.store(key);\n\t\tthis.onChanges = [];\n\t};\n\n\tapp.TodoModel.prototype.subscribe = function (onChange) {\n\t\tthis.onChanges.push(onChange);\n\t};\n\n\tapp.TodoModel.prototype.inform = function () {\n\t\tUtils.store(this.key, this.todos);\n\t\tthis.onChanges.forEach(function (cb) { cb(); });\n\t};\n\n\tapp.TodoModel.prototype.addTodo = function (title) {\n\t\tthis.todos = this.todos.concat({\n\t\t\tid: Utils.uuid(),\n\t\t\ttitle: title,\n\t\t\tcompleted: false\n\t\t});\n\n\t\tthis.inform();\n\t};\n\n\tapp.TodoModel.prototype.toggleAll = function (checked) {\n\t\t// Note: it's usually better to use immutable data structures since they're\n\t\t// easier to reason about and React works very well with them. That's why\n\t\t// we use map() and filter() everywhere instead of mutating the array or\n\t\t// todo items themselves.\n\t\tthis.todos = this.todos.map(function (todo) {\n\t\t\treturn Utils.extend({}, todo, {completed: checked});\n\t\t});\n\n\t\tthis.inform();\n\t};\n\n\tapp.TodoModel.prototype.toggle = function (todoToToggle) {\n\t\tthis.todos = this.todos.map(function (todo) {\n\t\t\treturn todo !== todoToToggle ?\n\t\t\t\ttodo :\n\t\t\t\tUtils.extend({}, todo, {completed: !todo.completed});\n\t\t});\n\n\t\tthis.inform();\n\t};\n\n\tapp.TodoModel.prototype.destroy = function (todo) {\n\t\tthis.todos = this.todos.filter(function (candidate) {\n\t\t\treturn candidate !== todo;\n\t\t});\n\n\t\tthis.inform();\n\t};\n\n\tapp.TodoModel.prototype.save = function (todoToSave, text) {\n\t\tthis.todos = this.todos.map(function (todo) {\n\t\t\treturn todo !== todoToSave ? todo : Utils.extend({}, todo, {title: text});\n\t\t});\n\n\t\tthis.inform();\n\t};\n\n\tapp.TodoModel.prototype.clearCompleted = function () {\n\t\tthis.todos = this.todos.filter(function (todo) {\n\t\t\treturn !todo.completed;\n\t\t});\n\n\t\tthis.inform();\n\t};\n\n})();\n"]}