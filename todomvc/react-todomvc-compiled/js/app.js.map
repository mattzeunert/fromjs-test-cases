{"version":3,"sources":["app.jsx"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["/*jshint quotmark:false */\n/*jshint white:false */\n/*jshint trailing:false */\n/*jshint newcap:false */\n/*global React, Router*/\nvar app = app || {};\n\n(function () {\n\t'use strict';\n\n\tapp.ALL_TODOS = 'all';\n\tapp.ACTIVE_TODOS = 'active';\n\tapp.COMPLETED_TODOS = 'completed';\n\tvar TodoFooter = app.TodoFooter;\n\tvar TodoItem = app.TodoItem;\n\n\tvar ENTER_KEY = 13;\n\n\tvar TodoApp = React.createClass({\n\t\tgetInitialState: function () {\n\t\t\treturn {\n\t\t\t\tnowShowing: app.ALL_TODOS,\n\t\t\t\tediting: null,\n\t\t\t\tnewTodo: ''\n\t\t\t};\n\t\t},\n\n\t\tcomponentDidMount: function () {\n\t\t\tvar setState = this.setState;\n\t\t\tvar router = Router({\n\t\t\t\t'/': setState.bind(this, {nowShowing: app.ALL_TODOS}),\n\t\t\t\t'/active': setState.bind(this, {nowShowing: app.ACTIVE_TODOS}),\n\t\t\t\t'/completed': setState.bind(this, {nowShowing: app.COMPLETED_TODOS})\n\t\t\t});\n\t\t\trouter.init('/');\n\t\t},\n\n\t\thandleChange: function (event) {\n\t\t\tthis.setState({newTodo: event.target.value});\n\t\t},\n\n\t\thandleNewTodoKeyDown: function (event) {\n\t\t\tif (event.keyCode !== ENTER_KEY) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tvar val = this.state.newTodo.trim();\n\n\t\t\tif (val) {\n\t\t\t\tthis.props.model.addTodo(val);\n\t\t\t\tthis.setState({newTodo: ''});\n\t\t\t}\n\t\t},\n\n\t\ttoggleAll: function (event) {\n\t\t\tvar checked = event.target.checked;\n\t\t\tthis.props.model.toggleAll(checked);\n\t\t},\n\n\t\ttoggle: function (todoToToggle) {\n\t\t\tthis.props.model.toggle(todoToToggle);\n\t\t},\n\n\t\tdestroy: function (todo) {\n\t\t\tthis.props.model.destroy(todo);\n\t\t},\n\n\t\tedit: function (todo) {\n\t\t\tthis.setState({editing: todo.id});\n\t\t},\n\n\t\tsave: function (todoToSave, text) {\n\t\t\tthis.props.model.save(todoToSave, text);\n\t\t\tthis.setState({editing: null});\n\t\t},\n\n\t\tcancel: function () {\n\t\t\tthis.setState({editing: null});\n\t\t},\n\n\t\tclearCompleted: function () {\n\t\t\tthis.props.model.clearCompleted();\n\t\t},\n\n\t\trender: function () {\n\t\t\tvar footer;\n\t\t\tvar main;\n\t\t\tvar todos = this.props.model.todos;\n\n\t\t\tvar shownTodos = todos.filter(function (todo) {\n\t\t\t\tswitch (this.state.nowShowing) {\n\t\t\t\tcase app.ACTIVE_TODOS:\n\t\t\t\t\treturn !todo.completed;\n\t\t\t\tcase app.COMPLETED_TODOS:\n\t\t\t\t\treturn todo.completed;\n\t\t\t\tdefault:\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tvar todoItems = shownTodos.map(function (todo) {\n\t\t\t\treturn (\n\t\t\t\t\t<TodoItem\n\t\t\t\t\t\tkey={todo.id}\n\t\t\t\t\t\ttodo={todo}\n\t\t\t\t\t\tonToggle={this.toggle.bind(this, todo)}\n\t\t\t\t\t\tonDestroy={this.destroy.bind(this, todo)}\n\t\t\t\t\t\tonEdit={this.edit.bind(this, todo)}\n\t\t\t\t\t\tediting={this.state.editing === todo.id}\n\t\t\t\t\t\tonSave={this.save.bind(this, todo)}\n\t\t\t\t\t\tonCancel={this.cancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}, this);\n\n\t\t\tvar activeTodoCount = todos.reduce(function (accum, todo) {\n\t\t\t\treturn todo.completed ? accum : accum + 1;\n\t\t\t}, 0);\n\n\t\t\tvar completedCount = todos.length - activeTodoCount;\n\n\t\t\tif (activeTodoCount || completedCount) {\n\t\t\t\tfooter =\n\t\t\t\t\t<TodoFooter\n\t\t\t\t\t\tcount={activeTodoCount}\n\t\t\t\t\t\tcompletedCount={completedCount}\n\t\t\t\t\t\tnowShowing={this.state.nowShowing}\n\t\t\t\t\t\tonClearCompleted={this.clearCompleted}\n\t\t\t\t\t/>;\n\t\t\t}\n\n\t\t\tif (todos.length) {\n\t\t\t\tmain = (\n\t\t\t\t\t<section className=\"main\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"toggle-all\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={this.toggleAll}\n\t\t\t\t\t\t\tchecked={activeTodoCount === 0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ul className=\"todo-list\">\n\t\t\t\t\t\t\t{todoItems}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<header className=\"header\">\n\t\t\t\t\t\t<h1>todos</h1>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"new-todo\"\n\t\t\t\t\t\t\tplaceholder=\"What needs to be done?\"\n\t\t\t\t\t\t\tvalue={this.state.newTodo}\n\t\t\t\t\t\t\tonKeyDown={this.handleNewTodoKeyDown}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</header>\n\t\t\t\t\t{main}\n\t\t\t\t\t{footer}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\tvar model = new app.TodoModel('react-todos');\n\n\tfunction render() {\n\t\tReact.render(\n\t\t\t<TodoApp model={model}/>,\n\t\t\tdocument.getElementsByClassName('todoapp')[0]\n\t\t);\n\t}\n\n\tmodel.subscribe(render);\n\trender();\n})();\n"]}